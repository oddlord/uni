%********************************************************************
% Packages
%********************************************************************

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[italian]{babel}
\usepackage[square, numbers]{natbib}
\usepackage[fleqn]{amsmath}
\usepackage{packages/dia-classicthesis-ldpkg}
\usepackage[eulerchapternumbers, subfig, beramono, eulermath, parts, subfigure, dottedtoc]{packages/classicthesis}
\usepackage{xfrac}
\usepackage{marginnote}

%********************************************************************
% classicthesis strings
%********************************************************************

\newcommand{\myTitle}{Il Progetto Indico KT\xspace}
\newcommand{\mySubtitle}{Migliorare l'impatto a livello mondiale di Indico\xspace}
\newcommand{\myDegree}{Corso di Laurea Magistrale in Informatica\xspace}
\newcommand{\myName}{Tommaso Papini\xspace}
\newcommand{\myProf}{Pierluigi Crescenzi\xspace}
\newcommand{\mySupervisor}{Pedro Ferreira\xspace}
\newcommand{\myFaculty}{Facoltà di Scienze Matematiche, Fisiche e Naturali\xspace}
\newcommand{\myDepartment}{Dipartimento di Sistemi e Informatica\xspace}
\newcommand{\myUni}{\protect{Università degli Studi di Firenze}\xspace}
\newcommand{\myLocation}{Firenze\xspace}
\newcommand{\myTime}{Anno Accademico 2014-2015\xspace}

%********************************************************************
% Packages options
%********************************************************************

% geometry
\usepackage{geometry}
\geometry{
	a4paper,
	ignoremp,
	bindingoffset = 1cm, 
	textwidth     = 13.5cm,
	textheight    = 21.5cm,
	lmargin       = 3.5cm,
	tmargin       = 4cm
}

% listings
\renewcommand*{\lstlistingname}{Codice}
\newcommand*{\noaddvspace}{\renewcommand*{\addvspace}[1]{}}
\addtocontents{lol}{\protect\noaddvspace}
\let\oldlstlistoflistings\lstlistoflistings
\renewcommand{\lstlistoflistings}{%
    \begingroup%
        \let\oldnumberline\numberline%
        \renewcommand{\numberline}{\!\!\!\!\!\!\!\!\!\lstlistingname~\oldnumberline}%
        \oldlstlistoflistings%
    \endgroup
}
%\lstset{
%    keywordstyle=\color{RoyalBlue},%\bfseries,
%    basicstyle=\small\ttfamily,
%    %identifierstyle=\color{NavyBlue},
%    commentstyle=\color{Green}\ttfamily,
%    stringstyle=\rmfamily,
%    numbers=none,%left,%
%    numberstyle=\scriptsize,%\tiny
%    stepnumber=5,
%    numbersep=8pt,
%    showstringspaces=false,
%    frameround=ftff,
%    frame=single
%    %frame=L
%}
\lstset{
    basicstyle=\small\sffamily,
    numbers=none,
    numberstyle=\tiny,
    numbersep=3pt,
    frame=tb,
    columns=fullflexible,
    backgroundcolor=\color{yellow!20}
}
\lstset{
    numberbychapter=false,
    showstringspaces=false,
    breaklines=true
}

% perpage
\usepackage{perpage}
\MakePerPage{footnote}

% hyperref
\hypersetup{%
    %draft, % = no hyperlinking at all (useful in b/w printouts)
    colorlinks=true, linktocpage=true, pdfstartpage=3, pdfstartview=FitV,%
    % uncomment the following line if you want to have black links (e.g., for printing)
    colorlinks=false, linktocpage=false, pdfstartpage=3, pdfstartview=FitV, pdfborder={0 0 0},%
    breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,%
    plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,%
    hypertexnames=true, pdfhighlight=/O,%nesting=true,%frenchlinks,%
    urlcolor=webbrown, linkcolor=RoyalBlue, citecolor=webgreen, %pagecolor=RoyalBlue,%
    %urlcolor=Black, linkcolor=Black, citecolor=Black, %pagecolor=Black,%
    pdftitle={\myTitle},%
    pdfauthor={\textcopyright\ \myName, \myUni, \myFaculty},%
    pdfsubject={},%
    pdfkeywords={},%
    pdfcreator={pdfLaTeX},%
    pdfproducer={LaTeX with hyperref and classicthesis}%
}

% caption
\captionsetup{format=hang,font=small}

% graphicx
\graphicspath{{img/}}

%********************************************************************
% (Re)new commands & styles
%********************************************************************

% reversed acronym
\newcommand{\acr}[1]{\acs{#1} (\aclu{#1})}

% uppercase part number
\AtBeginDocument{\renewcommand{\thepart}{\Roman{part}}}

% bigger table vertical padding
\setlength{\extrarowheight}{3pt}

% fixed classicthesis chapter number (right-aligned)
\titleformat{\chapter}[display]%
	{\relax}{\mbox{}\oldmarginpar{\vspace*{-3\baselineskip}\makebox[40pt][r]{\color{halfgray}\chapterNumber\thechapter}}}{-5pt}%
	{\raggedright\spacedallcaps}[\normalsize\vspace*{.8\baselineskip}\titlerule]%
	
% language/strings for backrefs
\renewcommand{\backrefnotcitedstring}{\relax}%(Not cited.) 
\renewcommand{\backrefcitedsinglestring}[1]{(Citato a pagina~#1.)} 
\renewcommand{\backrefcitedmultistring}[1]{(Citato alle pagine~#1.)} 
\renewcommand{\backreftwosep}{ e~} 
\renewcommand{\backreflastsep}{ e~}

\newcommand{\bash}[1]{\lstinline[language=bash]{#1}}
\newcommand{\python}[1]{\lstinline[language=python]{#1}}
